function waitForStart(){interval=setInterval(()=>{console.log("waiting for start..."),"1"===$(".delay").text()&&(clearTimeout(interval),setTimeout(answer,1e3))},500)}function input(e){$(".guess").val(e);var t=jQuery.Event("keypress");t.which=13,$(".guess").trigger(t)}function formatAnswer(e){e=e.toLowerCase().substring(0,e.indexOf("\n")).replace(/ /g,"");for(let[t,r]of Object.entries({excned:"excited",equauy:"equally",liriday:"friday",slum:"slim"}))e=e.replace(t,r);return e}function formatStorage(e){return e.replace(/[ -']/g,"").replace("I","l").toLowerCase().trim()}function answer(){var e,t=!1,r=!0;try{if($("#word_canvas").is(":visible"))e=$("#word_canvas")[0].toDataURL("image/png");else{if(!$("#bonus_canvas").is(":visible"))throw new Error("no canvas");t=!0}}catch(e){if(r=!1,console.log("waiting"),grind_mode)return void setTimeout(()=>{$(".replay").click(),waitForStart()},1e3);$(".end_level_up_btn, .replay").click(function(e){console.log("btn clicked"),waitForStart()})}if(t){try{input(last_answer)}catch(e){alert("bonus")}setTimeout(()=>{answer()},500*(10-speed))}else r&&(console.log(this),tess_worker.recognize(e,"eng",{tessedit_ocr_engine_mode:Tesseract.OEM.TESSERACT_ONLY,tessedit_char_whitelist:"abcdefghijklmnopqrstuvwxyz"}).then(e=>{var t=formatAnswer(e.text);console.log(t);var r=!0;if(""===t&&(r=!1,fallbackWord&&(t=fallbackWord,r=!0)),console.log(t),r){var n=translations1[t];void 0===n&&(n=translations2[t]),void 0===n&&(n=t),console.log(n),last_answer=n,input(n)}10==this.speed?answer():setTimeout(()=>{answer()},500*(10-this.speed))}))}if(window.onerror=function(e,t,r,n,a){alert(a.stack)},window.location.href.includes("nutty")){if(alert("\nThank you for using JeffNJellyBean's ThisIsLanguage bot!\nImportant information:\nIf leveling up, it is a bit buggy. You will have to manually press enter and wait a bit longer, but it is still easy to win.\nNot all words will work. If the bot encounters a word it cannot figure out, it won't answer. To set a default fallback word, go to advanced options.\n  "),confirm("Click cancel to view advanced options."))speed=10,grind_mode=!1;else{var speed,fallbackWord=this.formatAnswer(prompt("Fallback word (this will translate):")+"\n");if(!((speed=parseInt(prompt("Speed (1-10):")))<=10&&speed>=1))throw new Error("Bad number");var grind_mode=confirm("Enable Grind Mode?")}var ele=document.createElement("script");ele.src="https://unpkg.com/tesseract.js@v2.0.0-alpha.13/dist/tesseract.min.js",document.body.appendChild(ele),(ele=document.createElement("script")).src="https://code.jquery.com/jquery-3.4.1.min.js",document.body.appendChild(ele);for(var tess_worker,interval,last_answer,translations1={},translations2={},tables=document.querySelectorAll("tr"),i=0;i<tables.length;i++){var childs=tables[i].children;translations1[formatStorage(childs[0].innerText)]=childs[1].innerText,translations2[formatStorage(childs[1].innerText)]=childs[0].innerText}confirm("OK to play, cancel to Level Up")?$(".play_btn").click():$(".level_up_btn").click(),waitForStart(),setTimeout(()=>{tess_worker=new Tesseract.TesseractWorker},5e3)}
