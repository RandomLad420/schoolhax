function getAnswer(){try{null==worker&&(worker=new Tesseract.TesseractWorker),worker.recognize($("#word_canvas")[0].toDataURL("image/png"),"eng",{tessedit_ocr_engine_mode:Tesseract.OEM.TESSERACT_ONLY,tessedit_char_whitelist:"Iabcdefghijklmnopqrstuvwxyz-"}).then(function(e){console.log(e);var t=formatAnswer(e.text);if(console.log(t),""!==t){var r=translations1[t];null==r&&(r=translations2[t]),console.log(r),$(".guess").val(r);var n=jQuery.Event("keypress");n.which=13,$(".guess").trigger(n)}getAnswer()})}catch(e){alert(e.message)}}function formatAnswer(e){var t={ifs:"it's",excned:"excited",equauy:"equally"};for(var r in e=e.toLowerCase().substring(0,e.indexOf("\n")).replace(" ",""),t)t.hasOwnProperty(r)&&(e=e.replace(r,t[r]));return e}function answerQuestion(){var e=$(".gender").text(),t=translations[e];$("input").val(t);var r=jQuery.Event("keydown");r.which=13,$("input").trigger(r),setTimeout(answerQuestion,250)}function formatStorage(e){return e.replace(" ","").toLowerCase().trim()}function formatType(e){return e.replace("masculine","m").replace("feminine","f").replace("singular","(s)").replace("plural","(pl)").trim()}try{if(-1!==window.location.href.indexOf("game/user_list")){(ele=document.createElement("script")).src="https://unpkg.com/tesseract.js@v2.0.0-alpha.13/dist/tesseract.min.js",document.body.appendChild(ele),(ele=document.createElement("script")).src="https://code.jquery.com/jquery-3.4.1.min.js",document.body.appendChild(ele);for(var worker,translations1={},translations2={},tables=document.querySelectorAll("tr"),i=0;i<tables.length;i++){var childs=tables[i].children;translations1[formatStorage(childs[0].innerText)]=childs[1].innerText,translations2[formatStorage(childs[1].innerText)]=childs[0].innerText}confirm("OK to play, cancel to Level Up")?$(".play_btn").click():$(".level_up_btn").click();var interval=setInterval(function(){"1"===$(".delay").text()&&(clearTimeout(interval),setTimeout(getAnswer,1e3))},500)}else if(-1!==window.location.href.indexOf("/grammar")){var ele;(ele=document.createElement("script")).src="https://code.jquery.com/jquery-3.4.1.min.js",document.body.appendChild(ele);var translations={};$("tr").each(function(e){var t=$(this).children(),r=formatType(t.first().text());translations[r]=t.eq(1).text().trim()}),$(".start_testing_btn").click(),answerQuestion()}}catch(e){alert(e.message)}
